{"remainingRequest":"E:\\qingyunjiudian\\manager\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\qingyunjiudian\\manager\\src\\views\\product\\advantage.vue?vue&type=style&index=0&lang=scss","dependencies":[{"path":"E:\\qingyunjiudian\\manager\\src\\views\\product\\advantage.vue","mtime":1568805695234},{"path":"E:\\qingyunjiudian\\manager\\node_modules\\css-loader\\index.js","mtime":1558690124086},{"path":"E:\\qingyunjiudian\\manager\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907989000},{"path":"E:\\qingyunjiudian\\manager\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\qingyunjiudian\\manager\\node_modules\\sass-loader\\lib\\loader.js","mtime":499162500000},{"path":"E:\\qingyunjiudian\\manager\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558690126701},{"path":"E:\\qingyunjiudian\\manager\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.advantageAddOrEdit .el-dialog__body {\n    padding: 10px 60px !important;\n}\n.advantageDialog .el-dialog__footer{\n    padding: 20px 38px 20px !important;\n}\n.advantageDialog .el-dialog__body{\n    padding: 30px 20px 0px 20px !important;\n}\n.advantageAddOrEdit .el-dialog__footer{\n    padding: 20px 39px 20px !important;\n}\n.advantageAddOrEdit .el-dialog__body{\n    padding: 30px 20px 0px 20px !important;\n}\n.productpic .el-upload{\n    width: 165px;\n    height: 210px;\n}\n.productpic img{\n    width: 165px;\n    height: 210px;\n}\n.producttext img{\n    width: 60%;\n    height: 263.5px;\n}\n",{"version":3,"sources":["advantage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"advantage.vue","sourceRoot":"src\\views\\product","sourcesContent":["<template>\n    <div style=\"width: 95%; margin-left: 2%;\">\n        <!--查询条件start --111s-->\n        <el-form :inline=\"true\" :model=\"query\" class=\"query-form\" size=\"small\">\n            <el-form-item class=\"query-form-item\">\n                <el-input\n                    v-model=\"query.text\"\n                    placeholder=\"请输入关键字\"\n                    prefix-icon=\"el-icon-search\"\n                    @keyup.enter.native=\"onSubmit\"\n                    clearable\n                ></el-input>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" icon=\"el-icon-refresh\" @click=\"onRest\">刷新</el-button>\n                <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"onSubmit\">查询</el-button>\n                <el-button type=\"primary\" icon=\"el-icon-edit\" @click.native=\"showDialogAddOrEdit(null,null)\">添加</el-button>\n                <el-button type=\"primary\" icon=\"el-icon-sort\" @click=\"sortGroup\">变更排序</el-button>\n            </el-form-item>\n        </el-form>\n        <!--查询条件end --111e-->\n\n        <!--列表start --222s-->\n        <el-table\n            ref=\"multipleTable\"\n            v-loading=\"loading\"\n            :data=\"list\"\n            :header-cell-style=\"{background:'#F4F4F5',color:'#606266'}\"\n            @selection-change=\"handleSelectionChange\"\n            border\n        >\n            <el-table-column type=\"selection\" width=\"50\" align=\"center\" fixed/>\n            <el-table-column label=\"编号\" prop=\"number\" width=\"50\" align=\"center\"/>\n            <el-table-column label=\"标题\" prop=\"producttitle\" align=\"left\" :show-overflow-tooltip=\"true\"/>\n            <el-table-column label=\"标题描述\" prop=\"productremarks\" align=\"left\" :show-overflow-tooltip=\"true\"/>\n            <el-table-column label=\"状态\" align=\"center\" width=\"80\">\n                <template slot-scope=\"scope\">\n                    <span\n                        v-if=\"scope.row.productstate==0\"\n                    >显示</span>\n                    <span v-else>隐藏</span>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"排序值\" align=\"center\" width=\"80\">\n                <template slot-scope=\"scope\">\n                    <span\n                        v-if=\"scope.row.productsort!=null\"\n                    >{{ scope.row.productsort}}</span>\n                    <span v-else>-</span>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"创建时间\" with=\"300\" :show-overflow-tooltip=\"true\" align=\"center\">\n                <template slot-scope=\"scope\">\n                    <i class=\"el-icon-time\" v-if=\"scope.row.creationtime!=null\"></i>\n                    <span\n                        v-if=\"scope.row.creationtime!=null\"\n                    >{{ scope.row.creationtime | formatDateStr('yyyy-MM-dd hh:mm:ss') }}</span>\n                    <span v-else>-</span>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"操作\" align=\"center\" width=\"210\">\n                <template slot-scope=\"scope\">\n                    <el-button type=\"primary\" size=\"mini\"  @click.native=\"showDialogDetails(scope.$index, scope.row)\" >查看 </el-button>\n                    <el-button type=\"primary\" size=\"mini\"  @click.native=\"showDialogAddOrEdit(scope.$index, scope.row)\" >编辑 </el-button>\n                    <el-button type=\"danger\" size=\"mini\" @click.native=\"handleDel(scope.row.productid)\" >删除 </el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n        <!--列表end --222e-->\n\n        <!--全选删除start-->\n        <div class=\"left-container\">\n            <el-button type=\"danger\" size=\"small\" @click=\"delGroup()\">删除已选</el-button>\n            <transition name=\"el-fade-in-linear\">\n                <el-button size=\"small\" @click=\"toggleSelection()\" v-show=\"cancelToggle\">取消选择</el-button>\n            </transition>\n        </div>\n        <!--全选删除end-->\n\n        <!--分页模块start-->\n        <el-pagination\n            class=\"pagination-container\"\n            background\n            :page-size=\"query.pageSize\"\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n            layout=\"total,sizes,prev, pager, next, jumper\"\n            :current-page=\"query.currentPage\"\n            :page-sizes=\"[10, 20, 30, 50]\"\n            :total=\"totalNumber\"\n        ></el-pagination>\n        <!--分页模块end-->\n        <!-- 查看 -->\n        <el-dialog\n            class=\"advantageDialog\"\n            :title=\"dialogAddOrEditName\"\n            :visible.sync=\"dialogDetails\"\n            width=\"50%\"\n            top=\"5vh\"\n            :before-close=\"hideDialogAddOrEdit\">\n            <el-form label-width=\"85px\">\n                <el-form-item label=\"标题名称:\">\n                    <el-input v-model=\"formData.producttitle\" style=\"width: 60%\" readonly=\"readonly\"></el-input>\n                    <span style=\"margin-left: 26px;\">是否显示:\n                        <span v-if=\"formData.productstate==0\">\n                            是\n                         </span>\n                        <span v-else>\n                            否\n                        </span>\n                    </span>\n                </el-form-item>\n                <el-form-item label=\"标题图片:\">\n                <span v-if=\"formData.productpic!=null\">\n                    <img style=\"width:160px;height: 200px;border-radius: 6px;\" :src=\"formData.productpic\">\n                </span>\n                    <span v-else style=\"color: black\">暂无标题图片</span>\n                </el-form-item>\n                <el-form-item label=\"备注信息:\">\n                    <el-input v-model=\"formData.productremarks\" style=\"width: 98%\" readonly=\"readonly\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"正文内容:\" style=\"width: 98%\">\n                    <br>\n                    <span class=\"producttext\" style=\"display:block;width:100%;\" v-html=\"formData.productcontext\"/>\n                </el-form-item>\n            </el-form>\n            <span slot=\"footer\" class=\"dialog-footer advantagebtn\">\n                <el-button @click=\"hideDialogAddOrEdit\">取 消</el-button>\n            </span>\n        </el-dialog>\n\n        <!--新增/编辑弹框start--333s-->\n        <el-dialog\n            class=\"advantageAddOrEdit\"\n            :title=\"dialogAddOrEditName\"\n            :visible.sync=\"dialogAddOrEdit\"\n            width=\"50%\"\n            top=\"5vh\"\n            :before-close=\"hideDialogAddOrEdit\">\n            <el-form :model=\"formData\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"85px\" class=\"demo-ruleForm\">\n                <el-form-item label=\"标题名称:\" prop=\"producttitle\" >\n                    <el-input v-model=\"formData.producttitle\" style=\"width: 60%\"></el-input>\n                    <span style=\"margin-left: 26px;\">是否显示</span>\n                    <template>\n                        <el-radio v-model=\"formData.productstate\" label=\"0\" style=\"margin-left: 26px;\">是</el-radio>\n                        <el-radio v-model=\"formData.productstate\" label=\"1\">否</el-radio>\n                    </template>\n                </el-form-item>\n                <el-form-item label=\"标题描述:\" prop=\"productremarks\">\n                    <el-input v-model=\"formData.productremarks\" style=\"width: 98%\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"标题图片\" prop=\"productpic\" class=\"productpic\">\n                    <el-upload\n                        class=\"avatar-uploader\"\n                        :action=\"uploaduri\"\n                        :on-success=\"handleTitlePicSuccess\"\n                        :before-upload=\"beforeAvatarUpload\"\n                        :show-file-list=\"false\"\n                    >\n                        <img v-if=\"formData.productpic\" :src=\"formData.productpic\"  >\n                        <i v-else class=\"el-icon-plus avatar-uploader-icon\" style=\"font-size: 26px;line-height:7;\"></i>\n                    </el-upload>\n                    <span>注：上传图片尺寸为660*820像素</span>\n                </el-form-item>\n                <el-form-item label=\"正文内容:\" prop=\"productcontext\" style=\"width: 98%\">\n                    <Tinymce ref=\"tinymce\" v-model=\"formData.productcontext\"></Tinymce>\n                </el-form-item>\n\n            </el-form>\n            <span slot=\"footer\" class=\"dialog-footer \">\n                <el-button @click=\"hideDialogAddOrEdit\">取 消</el-button>\n                <el-button type=\"primary\" :loading=\"formSumbitLoding\" @click=\"formSumbit\">提交</el-button>\n            </span>\n        </el-dialog>\n        <!--新增/编辑弹框end--333e-->\n\n        <el-dialog\n            :visible.sync=\"sortVisible\"\n            width=\"15%\"\n            :before-close=\"hideEditSort\"\n            class=\"softwareAddOrEdit\"\n            top=\"15vh\"\n        >\n            <div style=\" font-size: 28px; text-align: center; margin-bottom: 13px;\">请输入排序值</div>\n            <el-form class=\"demo-ruleForm\">\n                <el-form-item>\n                    <el-input v-model=\"productSort\" ></el-input>\n                </el-form-item>\n            </el-form>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"hideEditSort\">取 消</el-button>\n                <el-button type=\"primary\" :loading=\"sortSumbitLoding\" @click=\"sortSumbit\">提交</el-button>\n            </span>\n        </el-dialog>\n    </div>\n</template>\n<script>\n    import {advantageAddOrEdit,getProductList,productDelOrSort} from \"../../api/product/product\";\n    import Tinymce from \"../../components/Tinymce/index\";\n    import { BASE_URL } from \"../../config/app\";\n    /*用作表单的数据初始化*/\n    const formJson = {\n        producttitle:\"\",\n        productstate:\"0\",\n        productcontext:\"\",\n        productremarks:\"\"\n    };\n\n    export default {\n        data() {\n            return {\n                uploaduri:BASE_URL+\"/tool/uploadpro\",\n                query: {//查询条件\n                    text:\"\",\n                    currentPage: 1,\n                    pageSize: 10,\n                },\n                sortVisible:false,\n                productSort:\"\",\n                sortSumbitLoding:false,\n                dialogDetails:false,\n                list: [],//列表集合\n                totalNumber: 0,//分页总页数\n                loading: false,//列表加载\n                allLoding: false,//全屏加载\n                formSumbitLoding: false,//表单提交加载\n                cancelToggle: false,//列表是否全选\n                multipleSelection: [], //多选集合\n                dialogAddOrEdit: false,//新增或编辑弹框开关\n                dialogAddOrEditName: \"\",//新增或编辑弹框名字\n                formData: formJson,//新增或修改的对象\n                rules: {//表单校验\n                    producttitle: [\n                        {required: true, message: '请输入标题内容', trigger: 'blur'}\n                    ],\n                    productpic:[\n                        {required: true, message: '请上传标题图片', trigger: 'blur'}\n                    ],\n                    productremarks: [\n                        {required: true, message: '请输入标题备注', trigger: 'blur'}\n                    ],\n                    productcontext:[\n                        {required: true, message: '请输入正文内容', trigger: 'blur'}\n                    ],\n                }\n            };\n        },\n        methods: {\n            handleTitlePicSuccess(res){\n                console.info(res)\n                if(res.code==0){\n                    alert(res.message)\n                }else if(res.code==9){\n                    alert(res.message)\n                }else {\n                    this.formData.productpic=res.data;\n                }\n            },\n            /*图片上传前操作*/\n            beforeAvatarUpload(file) {\n                const isJPG = file.type === 'image/jpeg';\n                const isGIF = file.type === 'image/gif';\n                const isPNG = file.type === 'image/png';\n                const isBMP = file.type === 'image/bmp';\n                const isLt2M = file.size / 1024 / 1024 < 2;\n\n                if (!isJPG && !isGIF && !isPNG && !isBMP) {\n                    this.$message.error('上传图片必须是JPG/GIF/PNG/BMP 格式!');\n                }\n                if (!isLt2M) {\n                    this.$message.error('上传图片大小不能超过 2MB!');\n                }\n                return (isJPG || isBMP || isGIF || isPNG) && isLt2M;\n            },\n            /*获取列表事件*/\n            getList() {\n                this.loading = true;\n                console.info(this.query)\n                getProductList(this.query).then(response => {\n                    console.info(response.data)\n                    if (response.code != 0) {\n                        this.$message.error(response.message);\n                        return false;\n                    }\n                    this.list =  [];\n                    if(response.data.list.length>0){\n                        for(var i in response.data.list){\n                            response.data.list[i].number=(this.query.currentPage-1)*10+parseInt(i)+1;\n                            this.list.push(response.data.list[i])\n                        }\n                    }\n                    this.totalNumber = response.data.totalNumber || 0;\n                    setTimeout(() => {\n                        this.loading = false;\n                    }, 0.3 * 1000);\n                }).catch(() => {\n                    this.loading = false;\n                    this.list = [];\n                })\n            },\n\n            /*新增或者编辑提交事件*/\n            formSumbit() {\n                //表单校验通过\n                this.$refs[\"ruleForm\"].validate(valid => {\n                    if (valid) {\n                        this.formSumbitLoding = true;\n                        advantageAddOrEdit(this.formData).then(response =>{\n                            if (response.code) {\n                                this.$message.error(response.message);\n                                this.formSumbitLoding = false;\n                                return false;\n                            }\n                            setTimeout(() => {\n                                this.$message.success(\"提交成功\");\n                                this.hideDialogAddOrEdit();\n                                this.formSumbitLoding = false;\n                                this.getList();\n                            }, 1000);\n                        }).catch(()=>{\n                            this.formSumbitLoding = false;\n                        })\n                    }\n                });\n                //new URLSearchParams(this.query)  提交数据格式不正确时可以转一下\n            },\n            sortSumbit(){\n                var ids = this.multipleSelection.map(item => item.productid).join();\n                this.loading = true;\n                if(this.productSort!=\"\" && this.productSort.length>0){\n                    var params = new URLSearchParams();\n                    params.append(\"ids\", ids);\n                    params.append(\"sort\",this.productSort);\n                    productDelOrSort(params)\n                        .then(response => {\n                            this.loading = false;\n                            if (response.code) {\n                                this.$message.error(response.message);\n                                return false;\n                            }\n                            this.$message.success(\"操作成功\");\n                            this.sortVisible=false;\n                            this.productSort=\"\";\n                            //返回第一页\n                            this.query.currentPage = 1;\n                            // 刷新数据\n                            this.getList();\n                        })\n                        .catch(() => {\n                            this.loading = false;\n                        });\n                }else {\n                    this.$message({ message: \"排序值不可为空！\",type: \"warning\"});\n                }\n\n            },\n            /*列表查询条件事件*/\n            onSubmit() {\n                this.query.currentPage = 1;\n                this.$router.push({\n                    path: \"\",\n                    query: this.query\n                });\n                this.getList();\n            },\n\n            /*刷新*/\n            onRest() {\n                this.$router.push({\n                    path: \"\"\n                });\n                //刷新事件需要重置查询条件\n                this.query = {\n                    currentPage: 1,\n                    pageSize: 10,\n                };\n                this.getList();\n            },\n\n            /*显示 -新增或者编辑弹框*/\n            showDialogAddOrEdit(index, row) {\n                this.formData = Object.assign({}, formJson);//将弹框内表单内容初始化\n                if (row !== null) {\n                    //如果row不为空，说明是修改，因为row是修改时携带过来此列的所有信息\n                    this.formData = Object.assign({}, row);//修改则将列内容深拷贝到表单内容中\n                    this.formData.productstate+=\"\";\n                    delete this.formData.creationtime;\n                    delete this.formData.productsort;\n                    setTimeout(() => {\n                        this.$refs.tinymce.setContent(row.productcontext);\n                    }, 100)\n                    this.dialogAddOrEditName = \"编辑\";\n                } else {\n                    this.dialogAddOrEditName = \"新增\";\n                }\n                this.dialogAddOrEdit = true;\n            },\n            showDialogDetails(index, row){\n                this.formData = Object.assign({}, row);//修改则将列内容深拷贝到表单内容中\n                this.formData.productstate+=\"\";\n                delete this.formData.creationtime;\n                delete this.formData.productsort;\n                setTimeout(() => {\n                    this.$refs.tinymce.setContent(row.productcontext);\n                }, 100)\n                this.dialogAddOrEditName = \"查看\";\n                this.dialogDetails = true;\n            },\n            /*隐藏 -新增或编辑弹框*/\n            hideDialogAddOrEdit() {\n                this.dialogAddOrEdit = false;\n                this.dialogDetails = false;\n\n                //隐藏弹框时需要清除弹框内容\n                if (this.$refs[\"ruleForm\"]) {\n                    this.$refs['ruleForm'].resetFields();//清除formData表单\n                    this.$refs[\"ruleForm\"].clearValidate();//清除表单验证\n                }\n                if (this.$refs[\"tinymce\"]) {\n                    this.$refs.tinymce.clearContent();\n                }\n                //如果上传文件，还需要清除文件列表\n            },\n            hideEditSort(){\n                this.sortVisible=false;\n                this.productSort=\"\";\n            },\n            /*点击页数*/\n            handleCurrentChange(val) {\n                this.query.currentPage = val;\n                this.getList();\n            },\n\n            /*选择每页条数【10,20,30,40,50】*/\n            handleSizeChange(val) {\n                this.query.pageSize = val;\n                this.getList();\n            },\n\n            /*取消全选事件*/\n            toggleSelection(rows) {\n                if (rows) {\n                    rows.forEach(row => {\n                        this.$refs.multipleTable.toggleRowSelection(row);\n                    });\n                } else {\n                    this.$refs.multipleTable.clearSelection();\n                }\n            },\n\n            /*列表复选框选择事件*/\n            handleSelectionChange(val) {\n                this.multipleSelection = val;\n                if (val == \"\") {\n                    this.cancelToggle = false;\n                    return;\n                }\n                this.cancelToggle = true;\n            },\n\n            /*全选删除事件*/\n            delGroup() {\n                console.log(this.multipleSelection)\n                var ids = this.multipleSelection.map(item => item.productid).join(); //获取所有选中行的id组成的字符串，以逗号分隔\n                if (ids == \"\") {\n                    this.$message({\n                        message: \"请先选择\",\n                        type: \"warning\"\n                    });\n                    return;\n                }\n                this.handleDel(ids);\n            },\n            sortGroup() {\n                console.log(this.multipleSelection)\n                var ids = this.multipleSelection.map(item => item.productid).join(); //获取所有选中行的id组成的字符串，以逗号分隔\n                if (ids == \"\") {\n                    this.$message({\n                        message: \"请先选择\",\n                        type: \"warning\"\n                    });\n                    return;\n                }\n                this.sortVisible=true;\n            },\n            /*单击删除事件*/\n            handleDel(ids) {\n                if (ids) {\n                    this.$confirm(\"确认要删除吗?\", \"提示\", {\n                        type: \"warning\"\n                    })\n                        .then(() => {\n                            this.loading = true;\n                            var params = new URLSearchParams();\n                            params.append(\"ids\", ids);\n                            productDelOrSort(params)\n                                .then(response => {\n                                    this.loading = false;\n                                    if (response.code) {\n                                        this.$message.error(response.message);\n                                        return false;\n                                    }\n                                    this.$message.success(\"删除成功\");\n                                    //返回第一页\n                                    this.query.currentPage = 1;\n                                    // 刷新数据\n                                    this.getList();\n                                })\n                                .catch(() => {\n                                    this.loading = false;\n                                });\n                        })\n                        .catch(() => {\n                            this.$message.warning(\"已取消\");\n                        });\n                }\n            },\n\n            /*日期选择事件*/\n            dateChange(val) {\n                if (val == null) {\n                    this.query.startTime = \"\";\n                    this.query.endTime = \"\";\n                } else {\n                    this.query.startTime = val[0];\n                    this.query.endTime = val[1];\n                    this.query.currentPage = 1;\n                }\n                this.getList();\n                console.log(this.query)\n            },\n        }, created() {\n             this.getList();\n        },\n        components: {\n            Tinymce\n        }\n    }\n    //跳转路由的方法\n    // this.$router.push({\n    //     path: \"\",\n    //     query:{\n    //         username:\"张三\"\n    //     }\n    // });\n    //接受路由传递的参数\n    //let query = this.$route.query;\n</script>\n<style type=\"text/scss\" lang=\"scss\">\n    .advantageAddOrEdit .el-dialog__body {\n        padding: 10px 60px !important;\n    }\n    .advantageDialog .el-dialog__footer{\n        padding: 20px 38px 20px !important;\n    }\n    .advantageDialog .el-dialog__body{\n        padding: 30px 20px 0px 20px !important;\n    }\n    .advantageAddOrEdit .el-dialog__footer{\n        padding: 20px 39px 20px !important;\n    }\n    .advantageAddOrEdit .el-dialog__body{\n        padding: 30px 20px 0px 20px !important;\n    }\n    .productpic .el-upload{\n        width: 165px;\n        height: 210px;\n    }\n    .productpic img{\n        width: 165px;\n        height: 210px;\n    }\n    .producttext img{\n        width: 60%;\n        height: 263.5px;\n    }\n</style>\n\n"]}]}