{"remainingRequest":"E:\\mijia\\manager\\node_modules\\thread-loader\\dist\\cjs.js!E:\\mijia\\manager\\node_modules\\babel-loader\\lib\\index.js!E:\\mijia\\manager\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\mijia\\manager\\src\\views\\product\\introduction.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\mijia\\manager\\src\\views\\product\\introduction.vue","mtime":1564647219609},{"path":"E:\\mijia\\manager\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558690126701},{"path":"E:\\mijia\\manager\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1558690128857},{"path":"E:\\mijia\\manager\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"E:\\mijia\\manager\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.promise\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getIntroduction as _getIntroduction, introductionEdit } from \"../../api/product/product\";\nimport { BASE_URL } from \"../../config/app\";\nexport default {\n  data: function data() {\n    return {\n      productintroductioninfo: {},\n      bannerList: [],\n      uploaduri: BASE_URL + \"/tool/uploadpro\",\n      urlList: [],\n      urls: \"\",\n      totalNumber: 0,\n      //分页总页数\n      loading: false,\n      //列表加载\n      allLoding: false,\n      //全屏加载\n      formSumbitLoding: false,\n      //表单提交加载\n      cancelToggle: false,\n      //列表是否全选\n      multipleSelection: [],\n      //多选集合\n      dialogAddOrEdit: false,\n      //新增或编辑弹框开关\n      dialogAddOrEditName: \"\",\n      //新增或编辑弹框名字\n      formData: {},\n      //新增或修改的对象\n      rules: {//表单校验\n        // username: [\n        //     {required: true, message: '请输入姓名', trigger: 'blur'},\n        //     {min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur'}\n        // ]\n      }\n    };\n  },\n  methods: {\n    handleBannerPicSuccess: function handleBannerPicSuccess(res) {\n      console.info(res);\n\n      if (res.code == 0) {\n        alert(res.message);\n      } else if (res.code == 9) {\n        alert(res.message);\n      } else {\n        var urls = {\n          url: res.data\n        };\n        this.urlList.push(urls);\n      }\n\n      console.info(this.urlList);\n    },\n    handleBannerPicRemove: function handleBannerPicRemove(file) {\n      console.info(file);\n\n      for (var i = 0; i < this.urlList.length; i++) {\n        if (this.urlList[i].url == file.url) {\n          this.urlList.splice(i, 1);\n        }\n      }\n\n      console.info(this.urlList);\n    },\n\n    /*背景图片上传*/\n    handleBackgroudPicSuccess: function handleBackgroudPicSuccess(res) {\n      console.info(res);\n\n      if (res.code == 0) {\n        alert(res.message);\n      } else if (res.code == 9) {\n        alert(res.message);\n      } else {\n        this.formData.backgroundpicurl = res.data;\n      }\n    },\n\n    /*标题图片上传*/\n    handleTitlePicSuccess: function handleTitlePicSuccess(res) {\n      console.info(res);\n\n      if (res.code == 0) {\n        alert(res.message);\n      } else if (res.code == 9) {\n        alert(res.message);\n      } else {\n        this.formData.titlepicurl = res.data;\n      }\n    },\n\n    /*图片上传前操作*/\n    beforeAvatarUpload: function beforeAvatarUpload(file) {\n      var isJPG = file.type === 'image/jpeg';\n      var isGIF = file.type === 'image/gif';\n      var isPNG = file.type === 'image/png';\n      var isBMP = file.type === 'image/bmp';\n      var isLt2M = file.size / 1024 / 1024 < 2;\n\n      if (!isJPG && !isGIF && !isPNG && !isBMP) {\n        this.common.errorTip('上传图片必须是JPG/GIF/PNG/BMP 格式!');\n      }\n\n      if (!isLt2M) {\n        this.common.errorTip('上传图片大小不能超过 2MB!');\n      }\n\n      return (isJPG || isBMP || isGIF || isPNG) && isLt2M;\n    },\n\n    /*获取列表事件*/\n    getIntroduction: function getIntroduction() {\n      var _this = this;\n\n      this.loading = true;\n\n      _getIntroduction().then(function (response) {\n        console.info(response);\n\n        if (response.code != 0) {\n          _this.$message.error(response.message);\n\n          _this.loading = false;\n          return false;\n        }\n\n        _this.productintroductioninfo = response.data;\n        _this.formData = response.data;\n        _this.bannerList = response.data.bannerpic.split(\",\");\n        setTimeout(function () {\n          _this.loading = false;\n        }, 0.3 * 1000);\n      }).catch(function () {\n        _this.loading = false;\n      });\n    },\n    editSumbit: function editSumbit() {\n      this.urlList = [];\n\n      for (var i = 0; i < this.bannerList.length; i++) {\n        var urls = {\n          url: this.bannerList[i]\n        };\n        this.urlList.push(urls);\n      }\n\n      this.dialogAddOrEdit = true;\n      console.info(this.formData);\n    },\n\n    /*新增或者编辑提交事件*/\n    formSumbit: function formSumbit() {\n      var _this2 = this;\n\n      //表单校验通过\n      this.$refs[\"ruleForm\"].validate(function (valid) {\n        if (valid) {\n          if (_this2.urlList.length > 0) {\n            var urls = \"\";\n\n            for (var i = 0; i < _this2.urlList.length; i++) {\n              urls += _this2.urlList[i].url + \",\";\n            }\n\n            _this2.formData.bannerpic = urls.substr(0, urls.length - 1);\n          }\n\n          console.info(_this2.formData);\n          _this2.formSumbitLoding = true; //提交操作\n\n          introductionEdit(_this2.formData).then(function (response) {\n            if (response.code) {\n              _this2.$message.error(response.message);\n\n              _this2.formSumbitLoding = false;\n              return false;\n            }\n\n            setTimeout(function () {\n              _this2.$message.success(\"提交成功\");\n\n              _this2.formSumbitLoding = false;\n              _this2.dialogAddOrEdit = false;\n\n              _this2.getIntroduction();\n            }, 1000);\n          }).catch(function () {\n            _this2.formSumbitLoding = false;\n          });\n        }\n      }); //new URLSearchParams(this.query)  提交数据格式不正确时可以转一下\n    },\n\n    /*显示 -新增或者编辑弹框*/\n    showDialogAddOrEdit: function showDialogAddOrEdit(index, row) {\n      this.dialogAddOrEdit = true;\n\n      if (row !== null) {\n        //如果row不为空，说明是修改，因为row是修改时携带过来此列的所有信息\n        this.formData = Object.assign({}, row); //修改则将列内容深拷贝到表单内容中\n\n        this.dialogAddOrEditName = \"编辑\";\n      } else {\n        this.dialogAddOrEditName = \"新增\";\n      }\n    },\n\n    /*隐藏 -新增或编辑弹框*/\n    hideDialogAddOrEdit: function hideDialogAddOrEdit() {\n      this.dialogAddOrEdit = false; //隐藏弹框时需要清除弹框内容\n\n      if (this.$refs[\"ruleForm\"]) {\n        this.$refs['ruleForm'].resetFields(); //清除formData表单\n\n        this.$refs[\"ruleForm\"].clearValidate(); //清除表单验证\n      } //如果上传文件，还需要清除文件列表\n\n    }\n  },\n  created: function created() {\n    this.getIntroduction();\n  }\n}; //跳转路由的方法\n// this.$router.push({\n//     path: \"\",\n//     query:{\n//         username:\"张三\"\n//     }\n// });\n//接受路由传递的参数\n//let query = this.$route.query;",{"version":3,"sources":["introduction.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"introduction\">\n        <span slot=\"footer\" class=\"dialog-footer\">\n            <el-button type=\"primary\" @click=\"editSumbit\">编辑</el-button>\n        </span>\n        <el-form label-width=\"100px\" style=\"margin-top: 20px\" class=\"textcontent\">\n            <el-form-item label=\"文字内容:\">\n<!--                <el-input v-model=\"formData.softwaretitle\" style=\"width: 60%\"></el-input>-->\n                <div style=\"color: black;width: 60%\">{{productintroductioninfo.textcontent}} </div>\n            </el-form-item>\n            <el-form-item label=\"按钮下文字\" >\n                <div style=\"color: black;width: 60%\">{{productintroductioninfo.btndowntext}}</div>\n            </el-form-item>\n            <el-form-item label=\"banner图片\">\n                <div v-for=\"item in bannerList\" >\n                    <img style=\"width: 335.5px;height: 168px;border-radius: 6px;\" :src=\"item\"  >\n                </div>\n\n            </el-form-item>\n            <el-form-item label=\"背景图片\">\n                <span v-if=\"productintroductioninfo.backgroundpicurl!=null\">\n                    <img style=\"width: 334px;height:  177.25px;border-radius: 6px;\" :src=\"productintroductioninfo.backgroundpicurl\">\n                </span>\n                <span v-else style=\"color: black\">暂无背景图片</span>\n            </el-form-item>\n            <el-form-item label=\"标题图片\">\n                <span v-if=\"productintroductioninfo.titlepicurl!=null\">\n                    <img style=\"width: 346px;height: 67px;border-radius: 6px;\"  :src=\"productintroductioninfo.titlepicurl\"  >\n                </span>\n                <span v-else style=\"color: black\">暂无标题图片</span>\n            </el-form-item>\n        </el-form>\n        <!--新增/编辑弹框start--333s-->\n        <el-dialog\n            :title=\"dialogAddOrEditName\"\n            :visible.sync=\"dialogAddOrEdit\"\n            width=\"60%\"\n            :before-close=\"hideDialogAddOrEdit\"\n            class=\"introductionAddOrEditDialog\"\n            top=\"5vh\"\n        >\n            <el-form :model=\"formData\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm textcontentDialog\">\n                <el-form-item label=\"内容文字：\" prop=\"textcontent\" >\n                    <el-input type=\"textarea\" maxlength=\"500\" v-model=\"formData.textcontent\" ></el-input>\n                </el-form-item>\n                <el-form-item label=\"按钮下文字：\" prop=\"btndowntext\">\n                    <el-input type=\"textarea\" v-model=\"formData.btndowntext\" ></el-input>\n                </el-form-item>\n                <el-form-item label=\"banner图片\" class=\"introductionBannerpic\">\n                    <el-upload\n                        :action=\"uploaduri\"\n                        list-type=\"picture-card\"\n                        :on-remove=\"handleBannerPicRemove\"\n                        :on-success=\"handleBannerPicSuccess\"\n                        accept=\".png, .jpg, .gif, .jpeg, .bmp\"\n                        :show-file-list=\"true\"\n                        :file-list=\"urlList\"\n                        :limit=\"5\"\n                        >\n                        <i class=\"el-icon-plus\"></i>\n                    </el-upload>\n                    <span>注：上传图片尺寸为1342*672像素</span>\n                </el-form-item>\n                <el-form-item label=\"背景图片\" prop=\"backgroundpicurl\" class=\"introductionBackgroudurl\">\n                    <el-upload\n                        class=\"avatar-uploader\"\n                        :action=\"uploaduri\"\n                        :on-success=\"handleBackgroudPicSuccess\"\n                        :before-upload=\"beforeAvatarUpload\"\n                        accept=\".png, .jpg, .gif, .jpeg, .bmp\"\n                        :show-file-list=\"false\"\n                    >\n                        <img v-if=\"formData.backgroundpicurl\" :src=\"formData.backgroundpicurl\"  >\n                        <i v-else class=\"el-icon-plus avatar-uploader-icon\" style=\"font-size: 26px;line-height: 6;\"></i>\n                    </el-upload>\n                    <span>注：上传图片尺寸宽为2732像素</span>\n                </el-form-item>\n                <el-form-item label=\"标题图片\" prop=\"titlepicurl\" class=\"introductionTitlepicurl\">\n                    <el-upload\n                        class=\"avatar-uploader\"\n                        :action=\"uploaduri\"\n                        :on-success=\"handleTitlePicSuccess\"\n                        :before-upload=\"beforeAvatarUpload\"\n                        :show-file-list=\"false\"\n                    >\n                        <img v-if=\"formData.titlepicurl\" :src=\"formData.titlepicurl\"  >\n                        <i v-else class=\"el-icon-plus avatar-uploader-icon\" style=\"font-size: 26px;line-height:2.5;\"></i>\n                    </el-upload>\n                    <span>注：上传图片尺寸为1384*268像素</span>\n                </el-form-item>\n            </el-form>\n\n\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogAddOrEdit = false\">取 消</el-button>\n                <el-button type=\"primary\" :loading=\"formSumbitLoding\" @click=\"formSumbit\">提交</el-button>\n            </span>\n        </el-dialog>\n    </div>\n</template>\n<script>\n    import {getIntroduction,introductionEdit} from \"../../api/product/product\";\n    import { BASE_URL } from \"../../config/app\";\n    export default {\n        data() {\n            return {\n                productintroductioninfo:{},\n                bannerList:[],\n                uploaduri:BASE_URL+\"/tool/uploadpro\",\n                urlList:[],\n                urls:\"\",\n                totalNumber: 0,//分页总页数\n                loading: false,//列表加载\n                allLoding: false,//全屏加载\n                formSumbitLoding: false,//表单提交加载\n                cancelToggle: false,//列表是否全选\n                multipleSelection: [], //多选集合\n                dialogAddOrEdit: false,//新增或编辑弹框开关\n                dialogAddOrEditName: \"\",//新增或编辑弹框名字\n                formData: {},//新增或修改的对象\n                rules: {//表单校验\n                    // username: [\n                    //     {required: true, message: '请输入姓名', trigger: 'blur'},\n                    //     {min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur'}\n                    // ]\n                }\n            };\n        },\n        methods: {\n            handleBannerPicSuccess(res) {\n                console.info(res)\n                if(res.code==0){\n                    alert(res.message)\n                }else if(res.code==9){\n                    alert(res.message)\n                }else {\n                    let urls={\n                        url:res.data\n                    }\n                    this.urlList.push(urls)\n                }\n                console.info(this.urlList)\n            },\n            handleBannerPicRemove(file){\n                console.info(file)\n                for (var i = 0; i < this.urlList.length; i++) {\n                    if (this.urlList[i].url == file.url) {\n                        this.urlList.splice(i, 1);\n                    }\n                }\n                console.info(this.urlList)\n            },\n            /*背景图片上传*/\n            handleBackgroudPicSuccess(res) {\n                console.info(res)\n                if(res.code==0){\n                    alert(res.message)\n                }else if(res.code==9){\n                    alert(res.message)\n                }else {\n                    this.formData.backgroundpicurl=res.data;\n                }\n            },\n            /*标题图片上传*/\n            handleTitlePicSuccess(res){\n                console.info(res)\n                if(res.code==0){\n                    alert(res.message)\n                }else if(res.code==9){\n                    alert(res.message)\n                }else {\n                    this.formData.titlepicurl=res.data;\n                }\n            },\n            /*图片上传前操作*/\n            beforeAvatarUpload(file) {\n                const isJPG = file.type === 'image/jpeg';\n                const isGIF = file.type === 'image/gif';\n                const isPNG = file.type === 'image/png';\n                const isBMP = file.type === 'image/bmp';\n                const isLt2M = file.size / 1024 / 1024 < 2;\n\n                if (!isJPG && !isGIF && !isPNG && !isBMP) {\n                    this.common.errorTip('上传图片必须是JPG/GIF/PNG/BMP 格式!');\n                }\n                if (!isLt2M) {\n                    this.common.errorTip('上传图片大小不能超过 2MB!');\n                }\n                return (isJPG || isBMP || isGIF || isPNG) && isLt2M;\n            },\n            /*获取列表事件*/\n            getIntroduction() {\n                this.loading = true;\n                getIntroduction().then(response => {\n                    console.info(response)\n                    if (response.code != 0) {\n                        this.$message.error(response.message);\n                        this.loading = false;\n                        return false;\n                    }\n                    this.productintroductioninfo=response.data;\n                    this.formData=response.data;\n                    this.bannerList=response.data.bannerpic.split(\",\");\n                    setTimeout(() => {\n                        this.loading = false;\n                    }, 0.3 * 1000);\n                }).catch(() => {\n                    this.loading = false;\n                })\n            },\n            editSumbit(){\n                this.urlList=[];\n                for(let i = 0; i <this.bannerList.length;i++){\n                    let urls={\n                        url:this.bannerList[i]\n                    }\n                    this.urlList.push(urls);\n                }\n                this.dialogAddOrEdit = true;\n                console.info(this.formData)\n            },\n            /*新增或者编辑提交事件*/\n            formSumbit() {\n                //表单校验通过\n                this.$refs[\"ruleForm\"].validate(valid => {\n                    if (valid) {\n                        if(this.urlList.length>0){\n                            var urls=\"\";\n                            for(var i=0;i<this.urlList.length;i++){\n                                urls+=this.urlList[i].url+\",\";\n                            }\n                           this.formData.bannerpic= urls.substr(0,urls.length-1)\n\n                        }\n                        console.info(this.formData)\n                        this.formSumbitLoding = true;\n                        //提交操作\n\n                        introductionEdit(this.formData).then(response =>{\n                            if (response.code) {\n                                this.$message.error(response.message);\n                                this.formSumbitLoding = false;\n                                return false;\n                            }\n                            setTimeout(() => {\n                                this.$message.success(\"提交成功\");\n                                this.formSumbitLoding = false;\n                                this.dialogAddOrEdit = false;\n                                this.getIntroduction();\n                            }, 1000);\n                        }).catch(()=>{\n                            this.formSumbitLoding = false;\n                        })\n\n                    }\n                });\n                //new URLSearchParams(this.query)  提交数据格式不正确时可以转一下\n            },\n\n            /*显示 -新增或者编辑弹框*/\n            showDialogAddOrEdit(index, row) {\n                this.dialogAddOrEdit = true;\n                if (row !== null) {\n                    //如果row不为空，说明是修改，因为row是修改时携带过来此列的所有信息\n                    this.formData = Object.assign({}, row);//修改则将列内容深拷贝到表单内容中\n                    this.dialogAddOrEditName = \"编辑\";\n                } else {\n                    this.dialogAddOrEditName = \"新增\";\n                }\n            },\n\n            /*隐藏 -新增或编辑弹框*/\n            hideDialogAddOrEdit() {\n                this.dialogAddOrEdit = false;\n\n                //隐藏弹框时需要清除弹框内容\n                if (this.$refs[\"ruleForm\"]) {\n                    this.$refs['ruleForm'].resetFields();//清除formData表单\n                    this.$refs[\"ruleForm\"].clearValidate();//清除表单验证\n                }\n                //如果上传文件，还需要清除文件列表\n            },\n        },\n        created() {\n             this.getIntroduction();\n        }\n    }\n    //跳转路由的方法\n    // this.$router.push({\n    //     path: \"\",\n    //     query:{\n    //         username:\"张三\"\n    //     }\n    // });\n    //接受路由传递的参数\n    //let query = this.$route.query;\n</script>\n<style type=\"text/scss\" lang=\"scss\">\n    .introduction .textcontent .el-form-item{\n        border-top: 1px solid rgb(204, 204, 204);\n        padding-top: 30px;\n    }\n    .introduction {\n        width: 95%;\n        margin-left: 2%;\n    }\n    .introductionAddOrEditDialog .el-textarea__inner{\n        height: 80px;\n    }\n    .avatar-uploader .el-upload {\n        border: 1px dashed #409EFF;\n        border-radius: 6px;\n        cursor: pointer;\n        position: relative;\n        overflow: hidden;\n    }\n    /*avatar-uploader .el-upload--picture-card{*/\n    /*    width: 320px !important;*/\n    /*    height: 190px !important;*/\n    /*}*/\n    .introductionBackgroudurl .el-upload{\n        width: 334px;\n        height:  177.25px;\n    }\n    .introductionBackgroudurl img{\n        width: 334px;\n        height:  177.25px;\n    }\n    /*introductionTitlepicurl .el-upload--picture-card{*/\n    /*    width: 346px !important;*/\n    /*    height: 67px !important;*/\n    /*}*/\n    .introductionTitlepicurl .el-upload{\n        width: 455px;\n        height: 67px;\n    }\n    .introductionTitlepicurl img{\n        width: 455px;\n        height: 67px;\n    }\n   .introductionBannerpic .el-upload-list__item{\n        width: 335.5px !important;\n       height: 168px!important;\n    }\n    .introductionBannerpic .el-upload {\n        width:  335.5px  !important;\n        height: 168px!important;\n    }\n    .introductionAddOrEditDialog .el-upload-list__item{\n        display: block !important;\n    }\n    .introductionAddOrEditDialog .el-dialog__footer{\n        padding: 0px 30px 20px !important;\n    }\n    .introductionAddOrEditDialog .el-dialog__body{\n        padding: 30px 20px 0px 20px !important;\n    }\n</style>\n"],"sourceRoot":"src\\views\\product"}]}