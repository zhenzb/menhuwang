{"remainingRequest":"E:\\qingyunjiudian\\manager\\node_modules\\thread-loader\\dist\\cjs.js!E:\\qingyunjiudian\\manager\\node_modules\\babel-loader\\lib\\index.js!E:\\qingyunjiudian\\manager\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\qingyunjiudian\\manager\\src\\views\\login\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\qingyunjiudian\\manager\\src\\views\\login\\index.vue","mtime":1563262402684},{"path":"E:\\qingyunjiudian\\manager\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558690126701},{"path":"E:\\qingyunjiudian\\manager\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1558690128857},{"path":"E:\\qingyunjiudian\\manager\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"E:\\qingyunjiudian\\manager\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      ruleForm: {\n        username: \"\",\n        pwd: \"\",\n        checked: true\n      },\n      rules: {\n        username: [{\n          required: true,\n          message: \"请输入账号\",\n          trigger: \"blur\"\n        }],\n        pwd: [{\n          required: true,\n          message: \"请输入密码\",\n          trigger: \"blur\"\n        }]\n      },\n      isShowPwd: false,\n      // 是否显示密码\n      loading: false,\n      // 登录loading\n      redirect: null // 回调地址\n\n    };\n  },\n  methods: {\n    handleLogin: function handleLogin() {\n      var _this = this;\n\n      this.$refs[\"ruleForm\"].validate(function (valid) {\n        if (valid) {\n          _this.loading = true;\n\n          _this.$store.dispatch(\"loginName\", _this.ruleForm).then(function (response) {\n            if (response.code) {\n              _this.$message.error(response.message);\n\n              _this.loading = false;\n              return;\n            }\n\n            var path = \"/\";\n\n            if (_this.redirect) {\n              path = _this.redirect;\n            } //跳转后存在浏览器返回上一页403的问题\n            // this.$router.push({\n            //     path: path,\n            // });\n            //解决方案\n\n\n            window.location.replace(path);\n          }).catch(function () {\n            _this.loading = false;\n          });\n        } else {\n          return false;\n        }\n      });\n    }\n  },\n  created: function created() {\n    // 将参数拷贝进查询对象\n    var query = this.$route.query;\n\n    if (query.redirect) {\n      // URL Encode\n      this.redirect = decodeURIComponent(query.redirect);\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,gBAAA;AACA,kBAAA,EADA;AAEA,aAAA,EAFA;AAGA,iBAAA;AAHA,OADA;AAMA,aAAA;AACA,kBAAA,CACA;AAAA,oBAAA,IAAA;AAAA,mBAAA,OAAA;AAAA,mBAAA;AAAA,SADA,CADA;AAIA,aAAA,CACA;AAAA,oBAAA,IAAA;AAAA,mBAAA,OAAA;AAAA,mBAAA;AAAA,SADA;AAJA,OANA;AAcA,iBAAA,KAdA;AAcA;AACA,eAAA,KAfA;AAeA;AACA,gBAAA,IAhBA,CAgBA;;AAhBA,KAAA;AAkBA,GApBA;AAqBA,WAAA;AACA,eADA,yBACA;AAAA;;AACA,WAAA,KAAA,CAAA,UAAA,EAAA,QAAA,CAAA,iBAAA;AACA,YAAA,KAAA,EAAA;AACA,gBAAA,OAAA,GAAA,IAAA;;AACA,gBAAA,MAAA,CACA,QADA,CACA,WADA,EACA,MAAA,QADA,EAEA,IAFA,CAEA,oBAAA;AACA,gBAAA,SAAA,IAAA,EAAA;AACA,oBAAA,QAAA,CAAA,KAAA,CAAA,SAAA,OAAA;;AACA,oBAAA,OAAA,GAAA,KAAA;AACA;AACA;;AACA,gBAAA,OAAA,GAAA;;AACA,gBAAA,MAAA,QAAA,EAAA;AACA,qBAAA,MAAA,QAAA;AACA,aATA,CAUA;AACA;AACA;AACA;AACA;;;AACA,mBAAA,QAAA,CAAA,OAAA,CAAA,IAAA;AACA,WAlBA,EAmBA,KAnBA,CAmBA,YAAA;AACA,kBAAA,OAAA,GAAA,KAAA;AACA,WArBA;AAsBA,SAxBA,MAwBA;AACA,iBAAA,KAAA;AACA;AACA,OA5BA;AA6BA;AA/BA,GArBA;AAsDA,SAtDA,qBAsDA;AACA;AACA,QAAA,QAAA,KAAA,MAAA,CAAA,KAAA;;AACA,QAAA,MAAA,QAAA,EAAA;AACA;AACA,WAAA,QAAA,GAAA,mBAAA,MAAA,QAAA,CAAA;AACA;AACA;AA7DA,CAAA","sourcesContent":["<template>\n  <div class=\"login-container\">\n    <el-form\n      class=\"card-box login-form\"\n      autocomplete=\"on\"\n      :model=\"ruleForm\"\n      :rules=\"rules\"\n      ref=\"ruleForm\"\n      label-position=\"left\"\n    >\n      <h3 class=\"title\">后台管理系统</h3>\n      <el-form-item prop=\"username\" class=\"item\">\n        <el-input\n          size=\"large\"\n          placeholder=\"请输入账号\"\n          name=\"username\"\n          autocomplete=\"on\"\n          v-model=\"ruleForm.username\"\n        >\n          <i slot=\"prefix\" class=\"el-input__icon\" style=\"padding-left:5px;\">\n            <icon-svg icon-class=\"yonghu\"/>\n          </i>\n        </el-input>\n      </el-form-item>\n      <el-form-item prop=\"pwd\" class=\"item\">\n        <!--<span class=\"svg-container\">-->\n        <!--<icon-svg icon-class=\"pwd\"/>-->\n        <!--</span>-->\n        <el-input\n          placeholder=\"请输入密码\"\n          name=\"pwd\"\n          :type=\"isShowPwd ? 'text' : 'password'\"\n          @keyup.enter.native=\"handleLogin\"\n          v-model=\"ruleForm.pwd\"\n          autocomplete=\"on\"\n        >\n          <i slot=\"prefix\" class=\"el-input__icon\" style=\"padding-left:5px;\">\n            <icon-svg icon-class=\"suo\"/>\n          </i>\n          <i\n            slot=\"suffix\"\n            class=\"el-input__icon\"\n            style=\"cursor: pointer;\"\n            @click=\"isShowPwd = !isShowPwd\"\n          >\n            <icon-svg :icon-class=\"isShowPwd?'yanjing-kai':'yanjing-bi'\"/>\n          </i>\n        </el-input>\n      </el-form-item>\n      <div>\n        <el-button\n          type=\"primary\"\n          style=\"width:100%;margin-bottom:30px;\"\n          :loading=\"loading\"\n          @click.native=\"handleLogin()\"\n        >登录</el-button>\n      </div>\n    </el-form>\n  </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            ruleForm: {\n                username: \"\",\n                pwd: \"\",\n                checked: true\n            },\n            rules: {\n                username: [\n                    { required: true, message: \"请输入账号\", trigger: \"blur\" }\n                ],\n                pwd: [\n                    { required: true, message: \"请输入密码\", trigger: \"blur\" }\n                ]\n            },\n            isShowPwd: false, // 是否显示密码\n            loading: false, // 登录loading\n            redirect: null // 回调地址\n        };\n    },\n    methods: {\n        handleLogin() {\n            this.$refs[\"ruleForm\"].validate(valid => {\n                if (valid) {\n                    this.loading = true;\n                    this.$store\n                        .dispatch(\"loginName\", this.ruleForm)\n                        .then(response => {\n                            if (response.code) {\n                                this.$message.error(response.message);\n                                this.loading = false;\n                                return;\n                            }\n                            let path = \"/\";\n                            if (this.redirect) {\n                                path = this.redirect;\n                            }\n                            //跳转后存在浏览器返回上一页403的问题\n                            // this.$router.push({\n                            //     path: path,\n                            // });\n                            //解决方案\n                            window.location.replace(path);\n                        })\n                        .catch(() => {\n                            this.loading = false;\n                        });\n                } else {\n                    return false;\n                }\n            });\n        }\n    },\n    created() {\n        // 将参数拷贝进查询对象\n        let query = this.$route.query;\n        if (query.redirect) {\n            // URL Encode\n            this.redirect = decodeURIComponent(query.redirect);\n        }\n    }\n};\n</script>\n<style type=\"text/scss\" lang=\"scss\" scoped>\n.login-container .el-form-item {\n    width: 100%;\n}\n</style>\n\n\n<style type=\"text/scss\" lang=\"scss\">\n@import \"../../styles/mixin\";\n\n$bg: #2d3a4b;\n$dark_gray: #889aa4;\n$light_gray: #eee;\n.login-container {\n    @include relative;\n    height: 100%;\n    background-color: $bg;\n    input:-webkit-autofill {\n        -webkit-box-shadow: 0 0 0 1000px #293444 inset !important;\n        -webkit-text-fill-color: #fff !important;\n    }\n    .item {\n        .el-form-item__content {\n            display: flex;\n            flex-flow: row;\n            height: 100%;\n        }\n        input {\n            padding-left: 35px;\n        }\n    }\n    input {\n        background: transparent;\n        border: 0;\n        -webkit-appearance: none;\n        border-radius: 0;\n        padding: 0.1rem 0.0666rem 0.16rem 0.2rem;\n        color: $light_gray;\n        height: 100%;\n    }\n    .el-input {\n        display: inline-block;\n        font-size: 15px;\n    }\n    .tips {\n        font-size: 14px;\n        color: #fff;\n        margin-bottom: 0.13333rem;\n    }\n    .svg-container {\n        padding: 0.08rem 0.0666rem 0.08rem 0.2rem;\n        color: $dark_gray;\n        vertical-align: middle;\n        display: inline-block;\n        &_login {\n            font-size: 20px;\n        }\n    }\n    .title {\n        font-size: 26px;\n        color: $light_gray;\n        margin: 0 auto 2rem auto;\n        text-align: center;\n        font-weight: bold;\n        line-height: 40px;\n    }\n    .login-form {\n        @include fxied-center;\n        top: 40%;\n        width: 27em;\n        padding: 0.4666rem 0.4666rem 0.2rem 0.4666rem;\n    }\n    .el-form-item {\n        border: 1px solid rgba(255, 255, 255, 0.1);\n        background: rgba(0, 0, 0, 0.1);\n        border-radius: 5px;\n        color: #454545;\n        height: 3rem;\n    }\n    .show-pwd {\n        position: absolute;\n        right: 0.1333rem;\n        top: 0.09333rem;\n        font-size: 16px;\n        color: $dark_gray;\n        cursor: pointer;\n    }\n    .thirdparty-button {\n        /*position: absolute;*/\n        /*right: .4666rem;*/\n        /*bottom: .37333rem;*/\n    }\n}\n</style>\n"],"sourceRoot":"src\\views\\login"}]}